<h4>Store Entries Form</h4>

<form [formGroup]="form" class="d-flex flex-column">
  <mat-form-field>
    <mat-label>Device</mat-label>
    <mat-select formControlName="device">
      <mat-option *ngFor="let device of devices" [value]="device.id">
        {{ device.device_type }} {{ device.model_type }}
      </mat-option>
    </mat-select>
    <mat-error *ngIf="form.get('device').invalid && form.get('device').touched">
      Device is Required
    </mat-error>
  </mat-form-field>

  <mat-form-field>
    <mat-label>Technician</mat-label>
    <mat-select formControlName="technician">
      <mat-option *ngFor="let technician of technicians" [value]="technician.id">
        {{ technician.last_name }} {{ technician.first_name }}
      </mat-option>
    </mat-select>
    <mat-error *ngIf="form.get('technician').invalid && form.get('technician').touched">
      Technician is Required
    </mat-error>
  </mat-form-field>

  <mat-form-field>
    <mat-label>Malfunction Description</mat-label>
    <input matInput type="text" formControlName="malfunction_description" />
    <mat-error *ngIf="form.get('malfunction_description').invalid && form.get('malfunction_description').touched">
      Please enter Malfunction description
    </mat-error>
  </mat-form-field>

  <mat-form-field>
    <mat-label>Device Condition</mat-label>
    <input matInput type="text" formControlName="device_condition" />
    <mat-error *ngIf="form.get('device_condition').invalid && form.get('device_condition').touched">
      Please enter device condition
    </mat-error>
  </mat-form-field>

  <mat-form-field>
    <mat-label>Entry Date</mat-label>
    <input matInput type="date" formControlName="entry_date" />
    <mat-error *ngIf="form.get('entry_date').invalid && form.get('entry_date').touched">
      Please enter entry date
    </mat-error>
  </mat-form-field>

  <mat-form-field>
    <mat-label>Inspection Date</mat-label>
    <input matInput type="date" formControlName="inspection_date" />
  </mat-form-field>

  <mat-form-field>
    <mat-label>Repair Date</mat-label>
    <input matInput type="date" formControlName="repair_date" />
  </mat-form-field>

  <mat-form-field>
    <mat-label>Return Date</mat-label>
    <input matInput type="date" formControlName="return_date" />
  </mat-form-field>

  <mat-form-field>
    <mat-label>Repair Description</mat-label>
    <input matInput type="text" formControlName="repair_description" />
  </mat-form-field>

  <mat-form-field>
    <mat-label>Repair Cost</mat-label>
    <input matInput type="number" formControlName="repair_cost" />
  </mat-form-field>

  <mat-form-field>
    <mat-label>Part Description</mat-label>
    <input matInput type="text" formControlName="part_description" />
  </mat-form-field>

  <mat-form-field>
    <mat-label>Part Cost</mat-label>
    <input matInput type="number" formControlName="part_cost" />
  </mat-form-field>

  <button mat-flat-button color="primary" [disabled]="form.invalid" (click)="onSubmit()">
    Submit
  </button>
</form>
